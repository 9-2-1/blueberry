# Blueberry

Blueberry 是一个帮助跟踪任务进度和计算 Goldie 点数的工具，通过直观的方式展示任务完成情况和时间管理状态。

## 功能特点
- 任务进度跟踪：记录和统计各项任务的完成情况
- 点数系统：通过 Goldie 点数反映整体任务状态，大于0表示正常进行，小于0表示进度落后
- 实时监控：支持通过网页实时查看点数变化
- 报告生成：生成详细的任务进度报告，包括每日用时、剩余时间和预计完成情况

## 安装说明

### 前提条件
- Python 3.8+ 
- 相关依赖包（见 requirements.txt）

### 安装步骤
1. 克隆或下载项目到本地
2. 安装依赖包：
   ```
   pip install -r requirements.txt
   ```

## 使用方法

### 生成报告
直接运行主程序生成任务报告：
```
python blueberry.py
```
生成的报告会保存到 `data` 目录下，并在控制台显示。

### 简化报告
生成只包含关键信息的简化报告：
```
python blueberry.py -s
```

### 实时网页监控
启动网页服务器实时查看点数变化：
```
python blueberry.py -l
```
然后在浏览器中访问 http://localhost:26019
**小心，默认监听0.0.0.0，这意味着局域网里的人可以通过扫描IP地址等技术方式找到这个网页服务，实时查看你的点数（不过他们不一定知道这是什么）**

### 命令行参数
- `-l, --live`: 开启实时点数显示HTTP网页
- `-f, --from`: 指定开始时间（格式：YYYY-MM-DDTHH:MM[:SS]）
- `-t, --time`: 指定当前时间
- `-d, --dayreport`: 显示当天报告
- `-w, --workbook`: 指定表格文件路径（默认：记录.xlsx）
- `-s, --short`: 生成简化报告
- `-n, --nologging`: 不保存报告为文件

## 项目结构
- `blueberry.py`: 主程序文件
- `blueberry.cmd`: Windows命令行启动脚本
- `blueberry-web.cmd`: Web服务器启动脚本
- `记录.xlsx`: 任务数据表格
- `web/`: 网页前端文件
  - `index.html`: 网页界面
  - `script.js`: 前端交互逻辑
  - `style.css`: 样式文件
- `data/`: 报告和数据存储目录
- `requirements.txt`: 项目依赖

## 点数计算说明
Goldie点数综合考虑以下因素：
- 任务进度：根据完成百分比和预计时间计算
- 状态影响：当前生效的状态会增减点数
- 其他任务：近期完成的其他任务会增加点数

点数规则：
- 大于0表示正常进行
- 小于0意味着无法达到预期
- 颜色标识：棕 < -500 < 红 < -200 < 黄 < 0 < 绿 < 200 < 天蓝 < 500 < 蓝

## 数据文件格式
任务数据存储在Excel表格（记录.xlsx）中。
查看 `记录示例.xlsx` (等一等，我不能直接发我现在正在用的表格) 来了解数据文件的具体格式。
直接把 `记录示例.xlsx` 重命名为 `记录.xlsx` 即可开始使用。
